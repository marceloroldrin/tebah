<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplo 3 - Escopo de Vari√°veis</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 40px;
            background-color: #1a1a2e;
            color: white;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #16c79a;
            font-size: 36px;
        }
        .secao {
            background-color: #16213e;
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 5px solid #16c79a;
        }
        .secao h2 {
            color: #16c79a;
            margin-top: 0;
        }
        .codigo {
            background-color: #0f3460;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .sucesso {
            color: #16c79a;
            font-weight: bold;
        }
        .erro {
            color: #e94560;
            font-weight: bold;
        }
        .aviso {
            background-color: #e94560;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        button {
            background-color: #16c79a;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #11a67d;
        }
        .resultado {
            background-color: #0f3460;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            min-height: 50px;
        }
        .exemplo-visual {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .caixa {
            background-color: #0f3460;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .caixa h3 {
            color: #16c79a;
            margin-top: 0;
        }
        .variavel {
            background-color: #16213e;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 2px solid #16c79a;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Escopo de Vari√°veis</h1>
        
        <div class="secao">
            <h2>üì¶ O que √© Escopo?</h2>
            <p>Escopo √© onde uma vari√°vel "vive" e pode ser acessada.</p>
            
            <div class="exemplo-visual">
                <div class="caixa">
                    <h3>üåç Escopo Global</h3>
                    <div class="variavel">
                        Vari√°vel vis√≠vel em<br>
                        <strong>TODO O C√ìDIGO</strong>
                    </div>
                </div>
                <div class="caixa">
                    <h3>üì¶ Escopo Local</h3>
                    <div class="variavel">
                        Vari√°vel vis√≠vel apenas<br>
                        <strong>DENTRO DA FUN√á√ÉO</strong>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="secao">
            <h2>‚úÖ Exemplo 1: Vari√°vel Global</h2>
            <div class="codigo">
let mensagemGlobal = 'Eu sou global!';<br>
<br>
function mostrarMensagem() {<br>
¬†¬†¬†¬†console.log(mensagemGlobal); <span class="sucesso">// ‚úì Funciona!</span><br>
}<br>
<br>
mostrarMensagem();<br>
console.log(mensagemGlobal); <span class="sucesso">// ‚úì Funciona!</span>
            </div>
            <button onclick="exemplo1()">Testar Exemplo 1</button>
            <div id="resultado1" class="resultado" style="display:none;"></div>
        </div>
        
        <div class="secao">
            <h2>‚ùå Exemplo 2: Vari√°vel Local</h2>
            <div class="codigo">
function teste() {<br>
¬†¬†¬†¬†let mensagemLocal = 'Eu sou local!';<br>
¬†¬†¬†¬†console.log(mensagemLocal); <span class="sucesso">// ‚úì Funciona!</span><br>
}<br>
<br>
teste();<br>
console.log(mensagemLocal); <span class="erro">// ‚úó ERRO!</span>
            </div>
            <button onclick="exemplo2()">Testar Exemplo 2 (vai dar erro!)</button>
            <div id="resultado2" class="resultado" style="display:none;"></div>
        </div>
        
        <div class="secao">
            <h2>üéØ Exemplo 3: Contador com Escopo</h2>
            <p>Veja como o escopo afeta o comportamento:</p>
            <button onclick="exemplo3()">Incrementar Contador</button>
            <button onclick="resetarContador()">Resetar</button>
            <div id="resultado3" class="resultado"></div>
        </div>
        
        <div class="secao">
            <h2>üîÑ Exemplo 4: Par√¢metros s√£o Locais</h2>
            <div class="codigo">
function saudar(nome) { <span style="color: #888">// 'nome' √© local</span><br>
¬†¬†¬†¬†console.log(`Ol√°, ${nome}!`);<br>
}<br>
<br>
saudar('Maria');<br>
console.log(nome); <span class="erro">// ‚úó ERRO! 'nome' n√£o existe aqui</span>
            </div>
            <button onclick="exemplo4()">Testar Exemplo 4</button>
            <div id="resultado4" class="resultado" style="display:none;"></div>
        </div>
    </div>
    
    <script>
        console.log('=== ESCOPO DE VARI√ÅVEIS ===\n');
        
        // Vari√°vel global para o contador
        let contadorGlobal = 0;
        
        // Exemplo 1: Vari√°vel Global
        function exemplo1() {
            console.log('--- Exemplo 1: Vari√°vel Global ---');
            
            let mensagemGlobal = 'Eu sou global!';
            
            function mostrarMensagem() {
                console.log('Dentro da fun√ß√£o:', mensagemGlobal);
                return mensagemGlobal;
            }
            
            let dentroFuncao = mostrarMensagem();
            console.log('Fora da fun√ß√£o:', mensagemGlobal);
            
            const div = document.getElementById('resultado1');
            div.style.display = 'block';
            div.innerHTML = `
                <p class="sucesso">‚úì Vari√°vel global acessada com sucesso!</p>
                <p>Dentro da fun√ß√£o: "${dentroFuncao}"</p>
                <p>Fora da fun√ß√£o: "${mensagemGlobal}"</p>
            `;
            console.log('');
        }
        
        // Exemplo 2: Vari√°vel Local (erro)
        function exemplo2() {
            console.log('--- Exemplo 2: Vari√°vel Local ---');
            
            try {
                function teste() {
                    let mensagemLocal = 'Eu sou local!';
                    console.log('Dentro da fun√ß√£o:', mensagemLocal);
                    return mensagemLocal;
                }
                
                let dentroFuncao = teste();
                console.log('Tentando acessar fora da fun√ß√£o...');
                
                // Isso vai dar erro (simulado)
                throw new Error("mensagemLocal is not defined");
                
            } catch (erro) {
                console.error('ERRO:', erro.message);
                
                const div = document.getElementById('resultado2');
                div.style.display = 'block';
                div.innerHTML = `
                    <div class="aviso">
                        <p class="erro">‚úó ERRO ao acessar vari√°vel local!</p>
                        <p><strong>Mensagem:</strong> ${erro.message}</p>
                        <p>Vari√°veis locais s√≥ existem dentro da fun√ß√£o!</p>
                    </div>
                `;
            }
            console.log('');
        }
        
        // Exemplo 3: Contador com escopo global
        function exemplo3() {
            contadorGlobal++;
            atualizarContador();
            console.log('Contador incrementado:', contadorGlobal);
        }
        
        function resetarContador() {
            contadorGlobal = 0;
            atualizarContador();
            console.log('Contador resetado');
        }
        
        function atualizarContador() {
            const div = document.getElementById('resultado3');
            div.innerHTML = `
                <h3 class="sucesso">Contador: ${contadorGlobal}</h3>
                <p>A vari√°vel <code>contadorGlobal</code> √© global, ent√£o mant√©m seu valor entre as chamadas!</p>
                <div class="codigo">
let contadorGlobal = ${contadorGlobal}; <span style="color: #888">// Global</span>
                </div>
            `;
        }
        
        // Exemplo 4: Par√¢metros s√£o locais
        function exemplo4() {
            console.log('--- Exemplo 4: Par√¢metros s√£o Locais ---');
            
            function saudar(nome) {
                console.log('Dentro da fun√ß√£o, nome =', nome);
                return `Ol√°, ${nome}!`;
            }
            
            let saudacao = saudar('Maria');
            console.log('Sauda√ß√£o:', saudacao);
            console.log('Tentando acessar par√¢metro "nome" fora da fun√ß√£o...');
            console.error('ERRO: nome is not defined');
            
            const div = document.getElementById('resultado4');
            div.style.display = 'block';
            div.innerHTML = `
                <p class="sucesso">‚úì Dentro da fun√ß√£o: "${saudacao}"</p>
                <div class="aviso">
                    <p class="erro">‚úó Fora da fun√ß√£o: ERRO!</p>
                    <p>Par√¢metros s√£o vari√°veis locais da fun√ß√£o!</p>
                </div>
            `;
            console.log('');
        }
        
        // Inicializar contador
        atualizarContador();
        
        // Demonstra√ß√£o no console
        console.log('Demonstra√ß√£o de Escopo:\n');
        
        let global = 'Sou global';
        
        function demonstracao() {
            let local = 'Sou local';
            console.log('Dentro da fun√ß√£o:');
            console.log('  - global:', global, '‚úì');
            console.log('  - local:', local, '‚úì');
        }
        
        demonstracao();
        console.log('\nFora da fun√ß√£o:');
        console.log('  - global:', global, '‚úì');
        console.log('  - local: [ERRO - n√£o existe aqui] ‚úó');
        console.log('');
    </script>
</body>
</html>
